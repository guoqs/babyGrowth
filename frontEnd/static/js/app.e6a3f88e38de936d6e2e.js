!function(t){var e={};function s(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s(s.s="NHnr")}({"+T4H":function(t,e,s){t.exports=!s("A4ra")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+kcP":function(t,e){var s=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},"//qa":function(t,e){e.f={}.propertyIsEnumerable},"/hK2":function(t,e,s){var r=s("TF39"),n=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},"3F4z":function(t,e){},"3cXf":function(t,e,s){t.exports={default:s("/hK2"),__esModule:!0}},"68dh":function(t,e,s){t.exports=!s("+T4H")&&!s("A4ra")(function(){return 7!=Object.defineProperty(s("ZsfF")("div"),"a",{get:function(){return 7}}).a})},"8uQi":function(t,e){},A4ra:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},Bsfm:function(t,e,s){var r=s("Pq9E");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},DBox:function(t,e){},Fu43:function(t,e,s){var r=s("alff"),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},H6sD:function(t,e){},K1fG:function(t,e,s){var r=s("+kcP"),n=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return n[t]||(n[t]={})}},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={name:"App",data:function(){return{loading:loading}},mounted:function(){console.log(this.loading)}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.loading.show,expression:"loading.show"}],attrs:{id:"loading"}},[e("div",{staticClass:"loading-zhuan"}),this._v(" "),e("p",{staticStyle:{color:"#ddd"}},[this._v(this._s(this.loading.texts))])])],1)},staticRenderFns:[]};var o=s("Z0/y")(r,n,!1,function(t){s("DBox")},null,null).exports,a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),s("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),s("br"),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var i=s("Z0/y")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},a,!1,function(t){s("H6sD")},"data-v-694cd902",null).exports,l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),s("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),s("br"),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var c=s("Z0/y")({name:"HelloWorld",data:function(){return{msg:"hello-world2hello-world2hello-world2hello-world2hello-world2hello-world2hello-world2"}}},l,!1,function(t){s("ygRI")},"data-v-7b21d9c2",null).exports,u=s("3cXf"),p=s.n(u),d={data:function(){return{req:{name:"gqs",mobile:"18617140482",birthday:"2018-01-04",sex:0,nickName:"我是个大爷",headImg:"https://www.baidu.com/img/bd_logo1.png",password:"",passwordConfirm:""}}},methods:{register:function(){var t=this.req;console.log(this.apis);var e=this.apis;if(t.password)if(t.password===t.passwordConfirm){var s=JSON.parse(p()(t));s.passwordSubmit=md5(s.password),delete s.password,s.passwordConfirmSubmit=md5(s.passwordConfirm),delete s.passwordConfirm,$("#register").prop("disabled","disabled").html("注册中...");var r=e.registe(s).then(function(){alert("success")}).fail(function(){alert("error")}).always(function(){$("#register").removeProp("disabled").html("注册")});console.log(r)}else alert("密码 和确认密码不一致");else alert("密码必填")}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register container-fluid"},[s("div",{staticClass:"form-horizontal"},[s("div",{staticClass:"form-group "},[s("label",{staticClass:"col-sm-2 col-lg-1 control-label"},[t._v("昵称")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11 "},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.req.nickName,expression:"req.nickName"}],staticClass:"form-control",attrs:{type:"email",placeholder:"请输入昵称"},domProps:{value:t.req.nickName},on:{input:function(e){e.target.composing||t.$set(t.req,"nickName",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("真实姓名")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.req.name,expression:"req.name"}],staticClass:"form-control",attrs:{type:"email",placeholder:"请输入真实姓名"},domProps:{value:t.req.name},on:{input:function(e){e.target.composing||t.$set(t.req,"name",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("手机号码")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.req.mobile,expression:"req.mobile"}],staticClass:"form-control",attrs:{type:"email",placeholder:"输入手机号码"},domProps:{value:t.req.mobile},on:{input:function(e){e.target.composing||t.$set(t.req,"mobile",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("生日")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.req.birthday,expression:"req.birthday"}],staticClass:"form-control",attrs:{type:"date",placeholder:"baby 的生日"},domProps:{value:t.req.birthday},on:{input:function(e){e.target.composing||t.$set(t.req,"birthday",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("性别")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.req.sex,expression:"req.sex"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.req,"sex",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0"}},[t._v("保密一下")]),t._v(" "),s("option",{attrs:{value:"1"}},[t._v("男宝")]),t._v(" "),s("option",{attrs:{value:"2"}},[t._v("女宝")])])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("密码")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.req.password,expression:"req.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.req.password},on:{input:function(e){e.target.composing||t.$set(t.req,"password",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("确认密码")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.req.passwordConfirm,expression:"req.passwordConfirm"}],staticClass:"form-control",attrs:{type:"password",placeholder:"请确认密码"},domProps:{value:t.req.passwordConfirm},on:{input:function(e){e.target.composing||t.$set(t.req,"passwordConfirm",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-xs-6 text-center"},[s("router-link",{staticClass:"btn btn-default",attrs:{to:"/login",replace:""}},[t._v("注册过?去登录")])],1),t._v(" "),s("div",{staticClass:"col-xs-6 text-center"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"register"},on:{click:function(e){t.register()}}},[t._v("注册")])])])])])},staticRenderFns:[]};var f=s("Z0/y")(d,v,!1,function(t){s("jI6d")},"data-v-37788c72",null).exports,m={data:function(){return{isLogin:!1,req:{mobile:"18617140482",password:""}}},methods:{login:function(){var t=this,e=this.apis;console.log(this.req);var s=this.req;this.isLogin=!0,e.login({mobile:s.mobile,password:md5(s.password)}).then(function(){alert("success")}).fail(function(){alert("error")}).always(function(){t.isLogin=!1})}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register container-fluid"},[s("div",{staticClass:"form-horizontal"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("手机号码")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.req.mobile,expression:"req.mobile"}],staticClass:"form-control",attrs:{type:"email",placeholder:"输入手机号码"},domProps:{value:t.req.mobile},on:{input:function(e){e.target.composing||t.$set(t.req,"mobile",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("密码")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.req.password,expression:"req.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"请输入真实姓名"},domProps:{value:t.req.password},on:{input:function(e){e.target.composing||t.$set(t.req,"password",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-xs-6 text-center"},[s("router-link",{staticClass:"btn btn-default",attrs:{to:"/register",replace:""}},[t._v("没有账户？去注册")])],1),t._v(" "),s("div",{staticClass:"col-xs-6 text-center"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"register",disabled:t.isLogin},on:{click:function(e){t.login()}}},[t._v(t._s(t.isLogin?"登录中...":"登录"))])])])])])},staticRenderFns:[]};var g=s("Z0/y")(m,_,!1,function(t){s("d1GO")},"data-v-a33f6ad2",null).exports,h={data:function(){return{userList:[],phonesNos:[]}},created:function(){this.getUserList()},methods:{getUserList:function(t){var e=this;loading.show=!0;var s=this.apis;this.req;$("#get-list").prop("disabled","disabled").html("数据加载中..."),s.getUserList({page:t,row:this.row}).then(function(t){e.userList=t.data}).fail(function(){alert("error")}).always(function(){$("#get-list").removeProp("disabled","disabled").html("获取信息"),loading.show=!1})},getPhoneNos:function(){var t=this,e=this.apis;$("#get-phones").prop("disabled","disabled").html("数据加载中..."),e.getPhoneNos().then(function(e){console.log(e),t.phonesNos=JSON.parse(e).data.sort(function(t,e){return t>e?1:-1})}).fail(function(){alert("error")}).always(function(){$("#get-phones").removeProp("disabled","disabled").html("获取手机号")})}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.userList.length?s("div",{staticClass:"container-fluid"},[s("button",{staticClass:"btn btn-primary",attrs:{id:"get-list"},on:{click:function(e){t.getUserList()}}},[t._v("获取信息")]),t._v(" "),t._l(t.phonesNos,function(e,r){return s("div",{key:r},[t._v(t._s(e))])}),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"table-responsive user-list"},[s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t.userList.length?s("tbody",t._l(t.userList,function(e,r){return s("tr",{key:r},[s("td",[t._v(t._s(r+1))]),t._v(" "),s("td",[s("img",{attrs:{src:e.user_head_img||"//10.18.200.188:8889/uploads/default.jpg",alt:e.user_name,title:e.user_name}})]),t._v(" "),s("td",[t._v(t._s(e.user_name))]),t._v(" "),s("td",[t._v(t._s(e.user_mobile))]),t._v(" "),s("td",[t._v(t._s(e.user_nick_name))]),t._v(" "),s("td",[t._v(t._s(e.user_birthday))]),t._v(" "),s("td",[t._v(t._s(t._f("dateFormat")(e.create_datetime)))]),t._v(" "),s("td",[t._v(t._s(t._f("dateFormat")(e.update_datatime)))]),t._v(" "),s("td",[t._v(t._s(e.status))]),t._v(" "),s("td",[s("router-link",{attrs:{to:"/user-info/"+e.user_id}},[t._v("查看详情")])],1)])})):t._e()])])],2):t._e()},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("序号")]),t._v(" "),s("th",[t._v("图像")]),t._v(" "),s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("手机号")]),t._v(" "),s("th",[t._v("昵称")]),t._v(" "),s("th",[t._v("生日")]),t._v(" "),s("th",[t._v("创建时间")]),t._v(" "),s("th",[t._v("最近更新")]),t._v(" "),s("th",[t._v("状态")]),t._v(" "),s("th",[t._v("操作")])])])}]};var y=s("Z0/y")(h,b,!1,function(t){s("sK7+")},"data-v-bfc520ba",null).exports,C={data:function(){return{userInfo:null,isListenFile:!1,imgInput:null}},created:function(){this.getUserList(),loading.show=!0},mounted:function(){console.log(123)},methods:{getUserList:function(){var t=this,e=this.apis,s=this.$route.params.userId;e.getUserInfo(s).then(function(e){t.userInfo=e.data}).always(function(){loading.show=!1})},getPhoneNos:function(){},changeImg:function(){var t=this,e=$("#select-img");if(!this.isListenFile){var s=e[0];s.addEventListener("change",function(){console.log(s.files);var e=s.files[0];t.imgInput={src:URL.createObjectURL(e),blob:e},s.value=""},!1)}this.isListenFile=!0,e.click()},cancelImg:function(){this.imgInput=null},modifyHeadImg:function(){var t=this,e=this.apis;e.uploadImg(this.imgInput.blob,"headImgs").then(function(s){e.updataHeadImg({userId:t.$route.params.userId,src:s.data}).then(function(e){t.userInfo.user_head_img=t.imgInput.src,t.imgInput=null}).fail(function(t){alert("图像更新失败")})}).fail(function(t){alert("图像更新失败")})}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.userInfo?s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"form-horizontal"},[s("div",{staticClass:"form-group "},[s("label",{staticClass:"col-sm-2 col-lg-1 control-label"},[t._v("昵称")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11 "},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.user_nick_name,expression:"userInfo.user_nick_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入昵称",disabled:"disabled"},domProps:{value:t.userInfo.user_nick_name},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"user_nick_name",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group "},[s("label",{staticClass:"col-sm-2 col-lg-1 control-label"},[t._v("图像")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11 "},[s("img",{staticClass:"thumbnail",attrs:{src:t.imgInput&&t.imgInput.src||t.userInfo.user_head_img},on:{click:function(e){t.changeImg()}}}),t._v(" "),s("input",{attrs:{type:"file",name:"",id:"select-img",accept:"image/*"}}),t._v(" "),t.imgInput?s("div",{staticClass:"row text-center",staticStyle:{"margin-top":"10px"}},[s("div",{staticClass:"col-xs-6"},[s("button",{staticClass:"btn btn-default",on:{click:function(e){t.cancelImg()}}},[t._v("取消选择")])]),t._v(" "),s("div",{staticClass:"col-xs-6"},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){t.modifyHeadImg()}}},[t._v("修改图像")])])]):t._e()])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("真实姓名")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.user_name,expression:"userInfo.user_name"}],staticClass:"form-control",attrs:{type:"email",placeholder:"请输入真实姓名",disabled:"disabled"},domProps:{value:t.userInfo.user_name},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"user_name",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("手机号码")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.user_mobile,expression:"userInfo.user_mobile"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入手机号码",disabled:"disabled"},domProps:{value:t.userInfo.user_mobile},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"user_mobile",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("生日")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"baby 的生日",disabled:"disabled"},domProps:{value:t._f("dateFormat")(t.userInfo.user_birthday,"YYYY MM DD")}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("性别")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.user_sex,expression:"userInfo.user_sex"}],staticClass:"form-control",attrs:{disabled:"disabled"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.userInfo,"user_sex",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0"}},[t._v("保密一下")]),t._v(" "),s("option",{attrs:{value:"1"}},[t._v("男宝")]),t._v(" "),s("option",{attrs:{value:"2"}},[t._v("女宝")])])])]),t._v(" "),s("pre",[t._v(t._s(JSON.stringify(t.userInfo,null," ")))])])]):t._e()},staticRenderFns:[]};var x=s("Z0/y")(C,w,!1,function(t){s("3F4z")},"data-v-6a4288fa",null).exports,q={data:function(){return{topicList:[]}},created:function(){this.getTopicList()},methods:{getTopicList:function(t){var e=this;loading.show=!0;var s=this.apis;this.req;s.getTopicList({page:t,row:100}).then(function(t){var s=t.data;s.forEach(function(t){t.thumbnailsArr=t.thumbnails.split(","),t.urlsArr=t.urls.split(",")}),e.topicList=s}).fail(function(){alert("error")}).always(function(){loading.show=!1})},zhanTopic:function(t,e){var s=this;this.apis.zanTopic(t.id).then(function(){t.zan++,console.log(t),console.log(e),s.topicList[e]=t}).fail(function(){alert("点赞失败，稍后再试！！！")})},playVideo:function(t){document.getElementById("video"+t).play()}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.topicList.length?s("div",{staticClass:"container-fluid"},t._l(t.topicList,function(e,r){return s("div",{key:r,staticClass:"media"},[s("div",{staticClass:"media-left"},[s("router-link",{attrs:{to:"user-info/"+e.user_id}},[s("img",{staticClass:"media-object",attrs:{src:e.user_head_img,alt:""}})])],1),t._v(" "),s("div",{staticClass:"media-body"},[s("h4",{staticClass:"media-heading"},[t._v(t._s(e.user_nick_name))]),t._v(" "),s("p",[t._v(t._s(e.texts))]),t._v(" "),3==e.type?s("div",{staticClass:"video-list",on:{click:function(e){t.playVideo(r)}}},[s("audio",{attrs:{src:e.urls,id:"video"+r,poster:e.thumbnailsArr[0],controls:"controls"}})]):t._e(),t._v(" "),2==e.type?s("div",{staticClass:"video-list",on:{click:function(e){t.playVideo(r)}}},[s("video",{attrs:{src:e.urls,id:"video"+r,controls:"controls",poster:"//10.18.200.188:8889/uploads/topicImgs/baby-growth-2018-04-11-32380728.jpg"}})]):t._e(),t._v(" "),1==e.type?s("ul",{staticClass:"img-list"},t._l(e.thumbnailsArr,function(t,e){return s("li",{key:e,style:"background-image: url("+t+");"})})):t._e(),t._v(" "),s("div",{staticClass:"row extend-info"},[s("span",{staticClass:"col-xs-8"},[t._v(t._s(t._f("dateFormat")(e.create_time)))]),t._v(" "),s("span",{staticClass:"col-xs-4"},[s("span",{staticClass:"zan-topic",on:{click:function(s){t.zhanTopic(e,r)}}},[s("i",{staticClass:"glyphicon glyphicon-thumbs-up"}),t._v(" "+t._s(e.zan||0))])])])])])})):t._e()},staticRenderFns:[]};var I=s("Z0/y")(q,k,!1,function(t){s("dlpQ")},"data-v-cc47be9e",null).exports,j=s("aA9S"),F=s.n(j),P={data:function(){return{req:{texts:"",type:1,thumbnails:"",urls:""},mediaFiles:{type1:[],type2:[],type3:[]}}},created:function(){},mounted:function(){var t=this,e=window.URL||window.webkitURL;document.getElementById("file-input").addEventListener("change",function(){var s=this.files;console.log(s);var r=[];if(s.length){[].slice.call(s).forEach(function(t){r.push({src:e.createObjectURL(t),blob:t})});var n=t.req.type;if(1!==n)console.log("temp"),t.mediaFiles["type"+n]=r;else{var o=t.mediaFiles.type1,a=o.length;r.length>9-a?t.mediaFiles.type1=o.concat(r.slice(0,9-a)):t.mediaFiles.type1=o.concat(r)}}this.value=""})},methods:{publishTopic:function(){var t=this,e=this.apis;console.log(this.req),this.uploadMedia(function(s){console.log(s),t.req.thumbnails=t.req.urls=s,e.publishTopic(F()({userId:"b500bdbc927a1f1fe77c27be9b1a2bdc"},t.req),"b500bdbc927a1f1fe77c27be9b1a2bdc")})},uploadMedia:function(t){var e=this.apis,s=this.mediaFiles["type"+this.req.type],r=this.req.type,n=1===r?"topicImgs":2===r?"topicVideos":3===r?"topicMusic":"test",o="";console.log(s),function s(r,a){var i=r[a-1];i?e.uploadImg(i.blob,n).then(function(t){console.log(t),o?o+=","+t.data:o=t.data}).fail(function(t){alert("图像更新失败")}).always(function(){s(r,++a)}):"function"==typeof t&&t(o)}(s,1)}},watch:{"req.type":function(t){console.log(t);var e=document.getElementById("file-input");e&&(1===t?e.setAttribute("multiple","multiple"):e.removeAttribute("multiple"))}}},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"form-horizontal"},[s("div",{staticClass:"form-group "},[s("label",{staticClass:"col-sm-2 col-lg-1 control-label"},[t._v("内容")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11 "},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.req.texts,expression:"req.texts"}],staticClass:"form-control",attrs:{type:"email",placeholder:"话题内容"},domProps:{value:t.req.texts},on:{input:function(e){e.target.composing||t.$set(t.req,"texts",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("类型")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11 text-center"},[s("div",{staticClass:" btn-group topic-type"},[s("label",{staticClass:"btn",class:1==t.req.type?"btn-primary":"btn-default",attrs:{for:"topic-type-1"}},[t._v("图片")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.req.type,expression:"req.type"}],attrs:{type:"radio",id:"topic-type-1"},domProps:{value:1,checked:t._q(t.req.type,1)},on:{change:function(e){t.$set(t.req,"type",1)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.req.type,expression:"req.type"}],attrs:{type:"radio",id:"topic-type-2"},domProps:{value:2,checked:t._q(t.req.type,2)},on:{change:function(e){t.$set(t.req,"type",2)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.req.type,expression:"req.type"}],attrs:{type:"radio",id:"topic-type-3"},domProps:{value:3,checked:t._q(t.req.type,3)},on:{change:function(e){t.$set(t.req,"type",3)}}}),t._v(" "),s("label",{staticClass:"btn",class:2==t.req.type?"btn-primary":"btn-default",attrs:{for:"topic-type-2"}},[t._v("视频")]),t._v(" "),s("label",{staticClass:"btn",class:3==t.req.type?"btn-primary":"btn-default",attrs:{for:"topic-type-3"}},[t._v("音乐")])])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-2 col-lg-1  control-label"},[t._v("媒体(选择"+t._s(1==t.req.type?"图片":2==t.req.type?"视频":"音乐")+")")]),t._v(" "),s("div",{staticClass:"col-sm-10 col-lg-11 media-privew"},[s("ul",[t._l(t.mediaFiles["type"+t.req.type],function(e,r){return s("li",{key:r,class:1!=t.req.type?"not-image":"",style:1==t.req.type?"background-image:url("+e.src+")":""},[2==t.req.type?s("video",{attrs:{src:e.src,controls:""}}):t._e(),t._v(" "),3==t.req.type?s("audio",{attrs:{src:e.src,controls:""}}):t._e()])}),t._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.req.type&&t.mediaFiles.type1.length<9||1!=t.req.type&&0==t.mediaFiles["type"+t.req.type].length,expression:"(req.type==1 && mediaFiles.type1.length < 9) || (req.type!=1 && mediaFiles['type'+req.type].length == 0)"}]},[s("label",[s("i",{staticClass:"glyphicon glyphicon-plus"}),t._v(" "),s("input",{attrs:{type:"file",id:"file-input",multiple:"",accept:1==t.req.type?"image/*":2==t.req.type?"video/mp4":3==t.req.type?"audio/mp3":""}})])])],2)])]),t._v(" "),s("div",{staticClass:"form-group"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"col-xs-4 text-center"},[s("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",id:"register"},on:{click:function(e){t.publishTopic()}}},[t._v("发布")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-xs-4 text-center"},[e("button",{staticClass:"btn btn-lg btn-danger",attrs:{type:"button",id:"register"}},[this._v("取消")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-xs-4 text-center"},[e("button",{staticClass:"btn btn-lg btn-info",attrs:{type:"button",id:"register"}},[this._v("暂存")])])}]};var E=s("Z0/y")(P,N,!1,function(t){s("8uQi")},"data-v-06392c54",null).exports;Vue.use(VueRouter);var L=new VueRouter({routes:[{path:"/",component:i},{path:"/hello-world2",component:c},{path:"/register",component:f},{path:"/login",component:g},{path:"/user-list",component:y},{path:"/user-info/:userId",component:x},{path:"/publish-topic",component:E},{path:"/topic-list",component:I},{path:"*",redirect:"/"}]}),T="http://10.18.200.188:8889/",S=$.ajax,O=function(t){var e=$.Deferred();return S(t).then(function(t){e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},R={getPhoneNos:function(t){return O({type:"get",url:T+"phones"})},registe:function(t){return O({type:"post",data:t,url:T+"register"})},login:function(t){return O({type:"post",data:t,url:T+"login"})},getUserList:function(t){return O({type:"get",data:t,url:T+"getUserList"})},getUserInfo:function(t){return O({type:"get",data:{user_id:t},url:T+"getUserInfo"})},publishTopic:function(t,e){return O({type:"post",data:t,url:T+"publishTopic/"+e})},getTopicList:function(t){return O({type:"get",data:t,url:T+"getTopics"})},zanTopic:function(t){return O({type:"get",data:{id:t},url:T+"zanTopic"})},updataHeadImg:function(t){return O({type:"post",data:t,url:T+"updataHeadimg"})},uploadImg:function(t,e){var s=new FormData;return s.append("img_key",t,t.name),$.ajax({type:"post",data:s,processData:!1,contentType:!1,url:T+"uploadMedia/"+e})}};Vue.config.productionTip=!1,Vue.prototype.row=10,Vue.prototype.apis=R,Vue.filter("dateFormat",function(t,e){var s=new Date(t),r="Invalid Date"===s.toString()?new Date:s,n=r.getFullYear(),o=r.getMonth()+1;o=o>9?o:"0"+o;var a=r.getDate();a=a>9?a:"0"+a;var i=r.getHours();i=i>9?i:"0"+i;var l=r.getMinutes();l=l>9?l:"0"+l;var c=r.getSeconds(),u=n+"-"+o+"-"+a+" "+i+":"+l+":"+(c=c>9?c:"0"+c);return e?u.substring(0,e.length):u}),window.loading={texts:"数据加载中...",show:!1},new Vue({el:"#app",router:L,components:{App:o},template:"<App/>"}),document.querySelector("body #loading").style.display="none"},NYhm:function(t,e,s){var r=s("+kcP"),n=s("TF39"),o=s("ashN"),a=s("gBD/"),i=s("kJAX"),l=function(t,e,s){var c,u,p,d=t&l.F,v=t&l.G,f=t&l.S,m=t&l.P,_=t&l.B,g=t&l.W,h=v?n:n[e]||(n[e]={}),b=h.prototype,y=v?r:f?r[e]:(r[e]||{}).prototype;for(c in v&&(s=e),s)(u=!d&&y&&void 0!==y[c])&&i(h,c)||(p=u?y[c]:s[c],h[c]=v&&"function"!=typeof y[c]?s[c]:_&&u?o(p,r):g&&y[c]==p?function(t){var e=function(e,s,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,s)}return new t(e,s,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(p):m&&"function"==typeof p?o(Function.call,p):p,m&&((h.virtual||(h.virtual={}))[c]=p,t&l.R&&b&&!b[c]&&a(b,c,p)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},Pq9E:function(t,e){var s={}.toString;t.exports=function(t){return s.call(t).slice(8,-1)}},QDg3:function(t,e,s){"use strict";var r=s("z/GF"),n=s("VnwS"),o=s("//qa"),a=s("TMqw"),i=s("Bsfm"),l=Object.assign;t.exports=!l||s("A4ra")(function(){var t={},e={},s=Symbol(),r="abcdefghijklmnopqrst";return t[s]=7,r.split("").forEach(function(t){e[t]=t}),7!=l({},t)[s]||Object.keys(l({},e)).join("")!=r})?function(t,e){for(var s=a(t),l=arguments.length,c=1,u=n.f,p=o.f;l>c;)for(var d,v=i(arguments[c++]),f=u?r(v).concat(u(v)):r(v),m=f.length,_=0;m>_;)p.call(v,d=f[_++])&&(s[d]=v[d]);return s}:l},Qdn4:function(t,e,s){var r=s("K1fG")("keys"),n=s("jzJL");t.exports=function(t){return r[t]||(r[t]=n(t))}},RKPt:function(t,e,s){var r=s("mkio"),n=s("Fu43"),o=s("gBiw");t.exports=function(t){return function(e,s,a){var i,l=r(e),c=n(l.length),u=o(a,c);if(t&&s!=s){for(;c>u;)if((i=l[u++])!=i)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===s)return t||u||0;return!t&&-1}}},TF39:function(t,e){var s=t.exports={version:"2.5.4"};"number"==typeof __e&&(__e=s)},TMqw:function(t,e,s){var r=s("yaLF");t.exports=function(t){return Object(r(t))}},VnwS:function(t,e){e.f=Object.getOwnPropertySymbols},XA92:function(t,e,s){var r=s("m1QJ");t.exports=function(t,e){if(!r(t))return t;var s,n;if(e&&"function"==typeof(s=t.toString)&&!r(n=s.call(t)))return n;if("function"==typeof(s=t.valueOf)&&!r(n=s.call(t)))return n;if(!e&&"function"==typeof(s=t.toString)&&!r(n=s.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},YrSA:function(t,e,s){s("iCX9"),t.exports=s("TF39").Object.assign},"Z0/y":function(t,e){t.exports=function(t,e,s,r,n,o){var a,i=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(a=t,i=t.default);var c,u="function"==typeof i?i.options:i;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),s&&(u.functional=!0),n&&(u._scopeId=n),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):r&&(c=r),c){var p=u.functional,d=p?u.render:u.beforeCreate;p?(u._injectStyles=c,u.render=function(t,e){return c.call(e),d(t,e)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:i,options:u}}},ZsfF:function(t,e,s){var r=s("m1QJ"),n=s("+kcP").document,o=r(n)&&r(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},aA9S:function(t,e,s){t.exports={default:s("YrSA"),__esModule:!0}},alff:function(t,e){var s=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:s)(t)}},ashN:function(t,e,s){var r=s("qfPT");t.exports=function(t,e,s){if(r(t),void 0===e)return t;switch(s){case 1:return function(s){return t.call(e,s)};case 2:return function(s,r){return t.call(e,s,r)};case 3:return function(s,r,n){return t.call(e,s,r,n)}}return function(){return t.apply(e,arguments)}}},bfYp:function(t,e,s){var r=s("ymHI"),n=s("68dh"),o=s("XA92"),a=Object.defineProperty;e.f=s("+T4H")?Object.defineProperty:function(t,e,s){if(r(t),e=o(e,!0),r(s),n)try{return a(t,e,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(t[e]=s.value),t}},d1GO:function(t,e){},dlpQ:function(t,e){},"gBD/":function(t,e,s){var r=s("bfYp"),n=s("yyor");t.exports=s("+T4H")?function(t,e,s){return r.f(t,e,n(1,s))}:function(t,e,s){return t[e]=s,t}},gBiw:function(t,e,s){var r=s("alff"),n=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?n(t+e,0):o(t,e)}},iCX9:function(t,e,s){var r=s("NYhm");r(r.S+r.F,"Object",{assign:s("QDg3")})},jI6d:function(t,e){},jzJL:function(t,e){var s=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++s+r).toString(36))}},kJAX:function(t,e){var s={}.hasOwnProperty;t.exports=function(t,e){return s.call(t,e)}},klP4:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},m1QJ:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},mkio:function(t,e,s){var r=s("Bsfm"),n=s("yaLF");t.exports=function(t){return r(n(t))}},qfPT:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"sK7+":function(t,e){},yaLF:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},ygRI:function(t,e){},yksS:function(t,e,s){var r=s("kJAX"),n=s("mkio"),o=s("RKPt")(!1),a=s("Qdn4")("IE_PROTO");t.exports=function(t,e){var s,i=n(t),l=0,c=[];for(s in i)s!=a&&r(i,s)&&c.push(s);for(;e.length>l;)r(i,s=e[l++])&&(~o(c,s)||c.push(s));return c}},ymHI:function(t,e,s){var r=s("m1QJ");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},yyor:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"z/GF":function(t,e,s){var r=s("yksS"),n=s("klP4");t.exports=Object.keys||function(t){return r(t,n)}}});
//# sourceMappingURL=app.e6a3f88e38de936d6e2e.js.map